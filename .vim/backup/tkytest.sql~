/*!50003 DROP PROCEDURE IF EXISTS `test_ly_cursor` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_ly_cursor`()
BEGIN

  DECLARE a int;
	declare b int;
 

  
	declare start_time TIMESTAMP(6);
	declare end_time TIMESTAMP(6);
	DECLARE done INT DEFAULT FALSE;
  
	DECLARE cur CURSOR FOR SELECT ticket_quantity FROM center.left_base_center3 ; 
 
  DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

	set b=0;

	set start_time = CURRENT_TIMESTAMP(6);
  OPEN cur;
  
 
  while b<1000000 do
 
    FETCH cur INTO a;
		set b= b+1;
    

    

    

  END while;
  
  CLOSE cur;
	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_ly_group` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_ly_group`()
BEGIN
	#Routine body goes here..
	declare aa int;
		declare start_time TIMESTAMP(6);
	declare end_time TIMESTAMP(6);
  set start_time = CURRENT_TIMESTAMP(6);
	
	select count(*) from (select count(train_no)  from center.left_base_center group by train_no) as temptable2 ;

	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);


	  set start_time = CURRENT_TIMESTAMP(6);
	
	select count(*) from (select count(ticket_quantity) from center.left_base_center group by ticket_quantity) as tmptable ;
	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_ly_order` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_ly_order`()
BEGIN
	#Routine body goes here...
		
		declare start_time TIMESTAMP(6);
	declare end_time TIMESTAMP(6);
  set start_time = CURRENT_TIMESTAMP(6);
Select  * from center.left_base_center where train_no='7600000Z5003' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D522400' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D585206' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D585605' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D586206' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D586608' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D587605' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D590607' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D592603' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D593003' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D593608' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D599202' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000D599602' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G100108' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G10030C' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G10050B' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G100705' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G10090B' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G101109' order by train_date limit 2;
Select  * from center.left_base_center where train_no='4e000G101306' order by train_date limit 2;



	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);


	  set start_time = CURRENT_TIMESTAMP(6);
	
	Select * from center.left_base_center where train_no='4e000D522400' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D585206' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D585605' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D586206' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D586608' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D587605' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D590607' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D592603' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D593003' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D593608' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D599202' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000D599602' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G100108' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G10030C' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G10050B' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G100705' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G10090B' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G101109' order by ticket_quantity limit 2;
Select * from center.left_base_center where train_no='4e000G101306' order by ticket_quantity limit 2;
	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_ly_trigger` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_ly_trigger`()
BEGIN
	#Routine body goes here...
	DECLARE aa int;
	set aa =0;
	while aa<80 DO
		insert into abc_time values(aa+21,current_timestamp(6));
		set aa=aa+1;
	end while;
	
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-11-28 17:14:26
/*!50003 DROP PROCEDURE IF EXISTS `testChar` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `testChar`(in name char(10))
begin
	select '====',name;
	select * from abc2 where col2='ÀîÑô';
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_ly_join` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_ly_join`()
BEGIN
	#Routine body goes here..
	declare bb int;
	declare cc varchar(20);
	declare dd varchar(20);
	declare train_no int;
	declare i int;
		declare start_time TIMESTAMP(6);
	declare end_time TIMESTAMP(6);
  set start_time = CURRENT_TIMESTAMP(6);

select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='7600000Z5003' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D522400' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D585206' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D585605' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D586206' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D586608' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D587605' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D590607' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D592603' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D593003' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D593608' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D599202' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000D599602' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G100108' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G10030C' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G10050B' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G100705' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G10090B' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G101109' limit 1;
select a.ticket_quantity, b.station_name,c.seat_type_name into bb,cc,dd from center.left_base_center a,basic.stop_time b,basic.seat_type c where a.train_no=b.train_no and a.seat_type_code=c.seat_type_code and  b.start_date	<= current_date() and  b.stop_date	>= current_date() and a.train_no='4e000G101306' limit 1;
	set end_time = CURRENT_TIMESTAMP(6);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_rand_insert` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_rand_insert`()
BEGIN
	#Routine body goes here...
	declare aa varchar(20);
	declare train_no int;
	declare i int;
		declare start_time TIMESTAMP(3);
	declare end_time TIMESTAMP(3);
  set start_time = CURRENT_TIMESTAMP(3);

	set train_no=0;
	set i=0;
	while i<100000 DO
		set aa = concat('55000K',train_no+112700);
		insert into left_base_center2 (assign_station, train_no, train_date, station_no, far_from_station_no, limit_station, coach_no, seat_type_code, purpose_code, ticket_quantity, up_quantity, mid_quantity, down_quantity, ticket_source, `range`, inner_code, wseat_type_code, seat_feature)
 values ('HGH', aa, '20161111', '05', '16', '06', '14', '1', '00', 1, 0, 0, 0, 'H', 4, 'H      ', '1', '3');

		set train_no = train_no+1;
		set i=i+1;
	end while;

	set end_time = CURRENT_TIMESTAMP(3);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `test_rand_select` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `test_rand_select`()
BEGIN
	#Routine body goes here...
	declare aa varchar(20);
	declare train_no int;
	declare i int;
		declare start_time TIMESTAMP(3);
	declare end_time TIMESTAMP(3);
  set start_time = CURRENT_TIMESTAMP(3);

	set train_no=0;
	set i=0;
	while i<10 DO
		set aa = concat('55000K',train_no+112700);
		select aa;
		select count(*) from center.left_base_center2 where assign_station ='HGH' and
		 train_no = aa and
		 train_date = '20161111' and
		 station_no = '05' and
		 far_from_station_no = '16' and
		 limit_station = '06' and
		 coach_no = '14' and
		 seat_type_code = '1' and
		 purpose_code = '00' and
		 ticket_quantity = 1 and
		 up_quantity = 0 and
		 mid_quantity = 0 and
		 down_quantity = 0 and
		 ticket_source = 'H' and
		 `range` = 4 and
		 inner_code = 'H ' and
		 wseat_type_code = '1' and
		 seat_feature = '3' ;

		set train_no = train_no+1;
		set i=i+1;
	end while;

	set end_time = CURRENT_TIMESTAMP(3);
	select  TIMESTAMPDIFF(MICROSECOND,start_time,end_time);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
